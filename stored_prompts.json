[
  {
    "task": "var-pheno",
    "name": "structured",
    "prompt": "Phenotype Association Annotation Guidelines\n\nArticle: \\n\\n{article_text}\\n\\n\n\n\n## Terms for Extraction\n\n### Variant/Haplotypes\n- **Content**: The specific genetic variant studied\n- **Manual Process**: Extract SNP IDs (rs numbers), HLA alleles, star alleles, or genotype combinations\n- **Example**: HLA-B*35:08, rs1801272, UGT1A1*1, UGT1A1*28\n\n### Gene\n- **Content**: Gene symbol associated with the variant\n- **Manual Process**: Find the gene name near the variant mention\n- **Example**: HLA-B, CYP2A6, UGT1A1\n\n### Drug(s)\n- **Content**: Drug(s) that caused or were involved in the phenotype\n- **Manual Process**: \n  - Extract drug names that triggered the adverse event or phenotype\n  - Leave empty for disease susceptibility studies without drug involvement\n- **Example**: lamotrigine, sacituzumab govitecan, empty for disease predisposition\n\n### Phenotype Category\n- **Content**: Type of phenotype or outcome studied\n- **Manual Process**: Categorize based on primary outcome:\n  - Toxicity: Adverse drug reactions, side effects, drug-induced toxicity\n  - Efficacy: Treatment response, therapeutic outcomes\n  - Metabolism/PK: Pharmacokinetic parameters, drug levels\n  - Dosage: Dose requirements, dose-response relationships\n  - Other: Disease susceptibility, traits not directly drug-related\n- **Example**: \n  - Toxicity (for Stevens-Johnson Syndrome)\n  - Other (for alcoholism risk)\n\n### Significance\n- **Content**: Statistical significance of the association\n- **Manual Process**: Look for p-values and statistical tests:\n  - yes: p < 0.05 or stated as significant\n  - no: p \u2265 0.05 or explicitly non-significant\n  - not stated: No statistical testing reported\n- **Example**: no (for non-significant HLA associations)\n\n### Notes\n- **Content**: Key study details, statistics, methodology\n- **Manual Process**: Extract relevant quotes showing statistical results, case descriptions, or important context\n- **Example**: \"The allele was not significant when comparing allele frequency in cases...\"\n\n### Standardized Sentence\n- **Content**: Standardized description of the genetic-phenotype association\n- **Manual Process**: Write in format: \"[Variant] is [associated with/not associated with] [increased/decreased] [phenotype outcome] [drug context] [population context]\"\n- **Example**: \"HLA-B *35:08 is not associated with likelihood of Maculopapular Exanthema, severe cutaneous adverse reactions or Stevens-Johnson Syndrome when treated with lamotrigine in people with Epilepsy.\"\n\n### Alleles\n- **Content**: Specific allele or genotype if different from main variant field\n- **Manual Process**: Extract the exact genotype mentioned\n- **Example**: *35:08, AA + AT, *1/*28 + *28/*28\n\n### Specialty Population\n- **Content**: Age-specific populations\n- **Manual Process**: Identify if study focused on specific age groups:\n  - Pediatric: Children/adolescents\n  - Geriatric: Elderly patients\n  - Leave empty for general adult populations\n- **Example**: Pediatric (for children with Fanconi Anemia)\n\n### Metabolizer Types\n- **Content**: CYP enzyme phenotype when applicable\n- **Manual Process**: Look for metabolizer classifications in CYP studies:\n  - poor metabolizer\n  - intermediate metabolizer\n  - extensive metabolizer\n  - ultrarapid metabolizer\n  - deficiency\n- **Example**: ultrarapid metabolizer, intermediate activity\n\n### isPlural\n- **Content**: Grammar helper for sentence construction\n- **Manual Process**: Use Is for singular subjects, Are for plural\n- **Example**: Is (for single allele), Are (for combined genotypes)\n\n### Is/Is Not Associated\n- **Content**: Direction of statistical association\n- **Manual Process**: Determine association type:\n  - Associated with: Positive association found\n  - Not associated with: No association found\n- **Example**: Not associated with, Associated with\n\n### Direction of Effect\n- **Content**: Whether the variant increases or decreases the phenotype\n- **Manual Process**: Look for directional language:\n  - increased: Higher risk, more severe, greater likelihood\n  - decreased: Lower risk, less severe, reduced likelihood\n  - Leave empty if no clear direction\n- **Example**: \n  - increased (for higher toxicity risk)\n  - decreased (for lower disease risk)\n\n### Side Effect/Efficacy/Other\n- **Content**: Specific phenotype outcome with standardized prefix\n- **Manual Process**: Categorize the phenotype and add appropriate prefix:\n  - Side Effect: for adverse drug reactions\n  - Efficacy: for therapeutic outcomes\n  - Disease: for disease conditions\n  - Other: for other traits/conditions\n  - PK: for pharmacokinetic measures\n- **Example**: \n  - Side Effect:Stevens-Johnson Syndrome\n  - Disease:Alcohol abuse\n  - Other:Medication adherence\n\n### When Treated With/Exposed To/When Assayed With\n- **Content**: Drug administration context\n- **Manual Process**: Use standard phrases:\n  - when treated with: For therapeutic drug administration\n  - when exposed to: For environmental or non-therapeutic exposure\n  - due to: For substance-related disorders\n  - Leave empty for non-drug phenotypes\n- **Example**: when treated with, due to (for substance abuse)\n\n### Multiple Drugs And/Or\n- **Content**: Logical connector for multiple drugs\n- **Manual Process**: If multiple drugs involved:\n  - and: Combination therapy\n  - or: Any of the drugs\n  - Leave empty for single drug\n- **Example**: or (for any of several drugs)\n\n### Population Types\n- **Content**: Description of study population\n- **Manual Process**: Look for population descriptors:\n  - in people with: General population with condition\n  - in children with: Pediatric population\n  - in women with: Gender-specific population\n- **Example**: in people with, in children with\n\n### Population Phenotypes or Diseases\n- **Content**: Disease/condition context with prefix\n- **Manual Process**: Find the medical condition and add prefix:\n  - Disease: for established diseases\n  - Other: for conditions/traits\n- **Example**: \n  - Disease:Epilepsy\n  - Other:Diabetes Mellitus, Type 2\n\n### Multiple Phenotypes or Diseases And/Or\n- **Content**: Logical connector for multiple conditions\n- **Manual Process**: Use and/or for multiple disease contexts\n- **Example**: and (for multiple comorbidities)\n\n### Comparison Allele(s) or Genotype(s)\n- **Content**: Reference genotype for comparison\n- **Manual Process**: Find what the variant was compared against\n- **Example**: TT (wild-type), *1/*1 (normal function allele)\n\n### Comparison Metabolizer Types\n- **Content**: Reference metabolizer phenotype\n- **Manual Process**: Extract comparison metabolizer status\n- **Example**: normal metabolizer\n\n## General Strategy Recommendations\n\n1. **Identify Phenotype Outcomes**: Look for adverse events, toxicities, disease conditions, clinical traits\n2. **Find Genetic Associations**: Search for variants linked to the phenotype (may or may not involve drugs)\n3. **Determine Drug Involvement**: Check if phenotype is drug-induced or related to disease susceptibility\n4. **Extract Statistical Evidence**: Look for odds ratios, p-values, case reports, frequency differences\n5. **Categorize Phenotype Type**: Classify as toxicity, efficacy, disease susceptibility, or other trait\n6. **Note Population Context**: Identify specific patient populations, age groups, disease conditions\n7. **Standardize the Relationship**: Convert findings into standardized sentence format describing the genetic-phenotype association",
    "text": "",
    "model": "gpt-4o-mini",
    "response_format": {
      "type": "object",
      "properties": {
        "var_pheno_ann": {
          "type": "array",
          "description": "Array of variant/drug annotation records",
          "items": {
            "type": "object",
            "properties": {
              "Variant Annotation ID": {
                "type": "integer",
                "description": "Unique ID number for each variant/drug annotation"
              },
              "Variant/Haplotypes": {
                "type": "string",
                "description": "dbSNP rsID or haplotype(s) involved in the association. May also contain gene phenotype groups like 'poor metabolizers' or 'intermediate activity'"
              },
              "Gene": {
                "type": "string",
                "description": "HGNC symbol for the gene involved in the association. Variants typically within gene boundaries but may be upstream affecting gene expression"
              },
              "Drug(s)": {
                "type": "string",
                "description": "The drug(s) involved in the association. Multiple drugs may apply individually or in combination (see 'Multiple drugs And/or' field)"
              },
              "PMID": {
                "type": [
                  "integer",
                  "string"
                ],
                "description": "PubMed identifier for the article supporting the annotation"
              },
              "Phenotype Category": {
                "type": "string",
                "enum": [
                  "efficacy",
                  "toxicity",
                  "dosage",
                  "metabolism/PK",
                  "PD",
                  "other"
                ],
                "description": "Category of the phenotype association"
              },
              "Significance": {
                "type": "string",
                "enum": [
                  "yes",
                  "no",
                  "not stated"
                ],
                "description": "The significance of the association as stated by the author"
              },
              "Notes": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Free text field for notes added by the curator"
              },
              "Sentence": {
                "type": "string",
                "description": "The structured annotation sentence generated by the variant annotation tool based on curator information"
              },
              "Alleles": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The basis for comparison in the annotation. May contain variant(s), haplotype(s), genotype(s), or diplotype(s). Blank if gene phenotype in 'Variant/Haplotypes' field"
              },
              "Specialty Population": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Any special populations this annotation is relevant to (e.g. pediatric)"
              },
              "Metabolizer types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Gene phenotype group if applicable (e.g., 'poor metabolizers'). Used when association is based on gene phenotype groups"
              },
              "isPlural": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "Is",
                  "Are",
                  null
                ],
                "description": "Grammar field to maintain proper sentence structure"
              },
              "Is/Is Not associated": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "Associated with",
                  "Not associated with",
                  null
                ],
                "description": "Indicates whether or not an association was found"
              },
              "Direction of effect": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "increased",
                  "decreased",
                  null
                ],
                "description": "Descriptor of the 'Side effect/efficacy/other' field"
              },
              "Side effect/efficacy/other": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "likelihood of",
                  "risk of",
                  "severity of",
                  "age at onset of",
                  null
                ],
                "description": "Describes the 'Phenotype' of the association"
              },
              "Phenotype": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The resulting phenotype of the association. Can be disease, side effect, efficacy term, or other. May contain multiple phenotypes separated by commas"
              },
              "Multiple phenotypes And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "Specifies how multiple phenotypes should be connected if more than one in 'Phenotype' field"
              },
              "When treated with/exposed to/when assayed with": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Connection words between sentence parts (e.g., 'when treated with', 'when exposed to', 'when assayed with')"
              },
              "Multiple drugs And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "'or' means association applies to each drug individually; 'and' means association applies to drug combination"
              },
              "Population types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Type of population in which association was studied (e.g., 'in healthy individuals', 'in children', 'in women')"
              },
              "Population Phenotypes or diseases": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Further describes the studied population with particular disease or phenotype (e.g., 'diabetes', 'lung transplantation')"
              },
              "Multiple phenotypes or diseases And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "Specifies how multiple entries in 'Population Phenotypes or diseases' should be connected"
              },
              "Comparison Allele(s) or Genotype(s)": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Indicates allele(s)/haplotype(s)/genotype(s) that were directly compared against those in 'Variant/Haplotypes' field"
              },
              "Comparison Metabolizer types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Indicates gene phenotype groups that were directly compared against those in 'Metabolizer types' field"
              },
              "PMID_norm": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Normalized PubMed identifier"
              },
              "Variant Annotation ID_norm": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Normalized Variant Annotation ID"
              }
            },
            "required": [
              "Variant Annotation ID",
              "Variant/Haplotypes",
              "Gene",
              "Drug(s)",
              "PMID",
              "Phenotype Category",
              "Significance",
              "Sentence"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "var_pheno_ann"
      ],
      "additionalProperties": false
    },
    "output": null,
    "timestamp": "2025-10-16T13:44:28.797529"
  },
  {
    "task": "var-drug",
    "name": "from docs",
    "prompt": "You are an expert pharmacogenomics researcher reading and extracting annotations from the following article\n\n\\n\\n{article_text}\\n\\n\n\nThese are the following terms for which we need to extract values:\n\nTerm: Variant/Haplotypes\n- Content: The specific genetic variant mentioned in the study\n- Manual Process: Look for SNP IDs (rs numbers), star alleles (CYP2D6*4), or genotype combinations\n- Example: rs2909451, CYP2C19*1, CYP2C19*2, *1/*18\n\nTerm: Gene\n- Content: Gene symbol associated with the variant\n- Manual Process: Find the gene name near the variant mention, use standard HUGO symbols\n- Example: DPP4, CYP2C19, KCNJ11\n\nTerm: Drug(s)\n- Content: Generic drug name(s) studied\n- Manual Process: Extract drug names from methods/results, use generic names, separate multiple drugs with commas\n- Example: sitagliptin, clopidogrel, aspirin\n\nTerm: Phenotype Category\n- Content: Type of clinical outcome studied\n- Manual Process: Categorize based on what was measured:\n    - Efficacy: Treatment response, clinical improvement\n    - Metabolism/PK: Drug levels, clearance, half-life\n    - Toxicity: Adverse events, side effects\n    - Dosage: Dose requirements, dose adjustments\n    - Other: Everything else\n- Example: Efficacy (for HbA1c improvement study)\n\nTerm: Significance\n- Content: Whether the association was statistically significant\n- Manual Process: Look for p-values, confidence intervals:\n    - yes: p < 0.05 or explicitly stated as significant\n    - no: p \u2265 0.05 or stated as non-significant\n    - not stated: No statistical testing mentioned\n- Example: yes (P < .001 in sitagliptin study)\n\nTerm: Notes\n- Content: Key study details, methodology, or important context\n- Manual Process: Extract relevant quotes showing statistical results, study design, or important caveats\n- Example: \"Patients with the rs2909451 TT genotype in the study group exhibited a median HbA1c improvement of 0.57...\"\n\nTerm: Standardized Sentence\n\n- Content: Standardized description of the genetic association\n- Manual Process: Write in format: \"[Genotype/Allele] is [associated with/not associated with] [increased/decreased]\n[outcome] [drug context] [population context]\"\n- Example: \"Genotype TT is associated with decreased response to sitagliptin in people with Diabetes Mellitus, Type 2.\"\n\nTerm: Alleles\n\n- Content: Specific allele or genotype if different from Variant/Haplotypes field\n- Manual Process: Extract the exact genotype mentioned (AA, TT, CC, del/del, etc.)\n- Example: TT, *1/*18, del/del\n\nTerm: Metabolizer types\n\n- Content: CYP enzyme phenotype categories\n- Manual Process: Look for metabolizer classifications in CYP studies:\n    - poor metabolizer, intermediate metabolizer, extensive metabolizer, ultrarapid metabolizer\n- Example: intermediate metabolizer\n\nTerm: Comparison Allele(s) or Genotype(s)\n\n- Content: Reference genotype used for comparison\n- Manual Process: Find what the study variant was compared against\n- Example: *1/*1, C (for wild-type comparisons)\n\nTerm: Comparison Metabolizer types\n\n- Content: Reference metabolizer status for comparison\n- Manual Process: Extract the comparison metabolizer phenotype\n- Example: normal metabolizer\n\nTerm: Specialty Population\n\n- Content: Age-specific populations\n- Manual Process: Check if study specifically focused on:\n    - Pediatric: Children/adolescents\n    - Geriatric: Elderly patients\n    - Leave empty for general adult populations\n\nTerm: Population types\n- Content: Descriptor of study population\n- Manual Process: Look for population descriptors, usually \"in people with\" or ethnicity information\n- Example: in people with\n\nTerm: Population Phenotypes or diseases\n- Content: Disease/condition context with standardized prefix\n- Manual Process: Find the medical condition studied, add appropriate prefix:\n    - Disease: for established diseases\n    - Other: for conditions/traits\n    - Side Effect: for adverse events\n- Example: Other:Diabetes Mellitus, Type 2\n\nTerm: isPlural\n- Content: Grammar helper for sentence construction\n- Manual Process: Use Is for singular subjects, Are for plural\n- Example: Is\n\nTerm: Is/Is Not associated\n- Content: Direction of association\n- Manual Process: Determine if association was:\n    - Associated with: Positive association found\n    - Not associated with: No association found\n- Example: Associated with\n\nTerm: Direction of effect\n\n- Content: Whether the effect increases or decreases the outcome\n- Manual Process: Look for directional language:\n    - increased: Higher levels, better response, more effect\n    - decreased: Lower levels, worse response, less effect\n    - Leave empty if no clear direction\n- Example: decreased\n\nTerm: PD/PK terms\n\n- Content: Pharmacological outcome descriptor\n- Manual Process: Extract the specific outcome measured:\n    - response to, concentrations of, metabolism of, clearance of, dose of\n- Example: response to\n\nTerm: Multiple drugs And/or\n\n- Content: Logical connector for multiple drugs\n- Manual Process: If multiple drugs mentioned:\n    - and: All drugs together\n    - or: Any of the drugs\n    - Leave empty for single drug\n\nTerm: Multiple phenotypes or diseases And/or\n\n- Content: Logical connector for multiple conditions\n- Manual Process: Similar to drugs, use and/or for multiple conditions\n- Leave empty for single condition\n\nGeneral recommended strategies\n\n1. Scan for genetic variants: Look for \"rs\" numbers, gene names with asterisks, or phrases like \"genotype,\" \"allele,\"\n\"polymorphism\"\n2. Identify drug context: Find drug names in methods, results, or discussion sections\n3. Locate outcome measures: Look for clinical endpoints, lab values, response rates, adverse events\n4. Find statistical associations: Search for p-values, odds ratios, significant differences between genotype groups\n5. Extract population details: Note the study population, disease context, and inclusion criteria\n6. Standardize the relationship: Convert the finding into the standardized sentence format following the association pattern\n\nFor each term, the output should be of the format:\n\nExtracted Output: (output)\nReason: (one sentence justification)\nQuote: (quote from the article that demonstrates why)",
    "text": "",
    "model": "gpt-4o-mini",
    "response_format": {
      "type": "object",
      "properties": {
        "var_drug_ann": {
          "type": "array",
          "description": "Array of variant/drug annotation records",
          "items": {
            "type": "object",
            "properties": {
              "Variant Annotation ID": {
                "type": "integer",
                "description": "Unique ID number for each variant/drug annotation"
              },
              "Variant/Haplotypes": {
                "type": "string",
                "description": "dbSNP rsID or haplotype(s) involved in the association. May also contain gene phenotype groups like 'poor metabolizers' or 'intermediate activity'"
              },
              "Gene": {
                "type": "string",
                "description": "HGNC symbol for the gene involved in the association. Variants typically within gene boundaries but may be upstream affecting gene expression"
              },
              "Drug(s)": {
                "type": "string",
                "description": "The drug(s) involved in the association, standardized by generic name. Multiple drugs may apply individually or in combination (see 'Multiple drugs And/or' field)"
              },
              "PMID": {
                "type": [
                  "integer",
                  "string"
                ],
                "description": "PubMed identifier for the article supporting the annotation"
              },
              "Phenotype Category": {
                "type": "string",
                "enum": [
                  "efficacy",
                  "toxicity",
                  "dosage",
                  "metabolism/PK",
                  "PD",
                  "other"
                ],
                "description": "Category of the phenotype association"
              },
              "Significance": {
                "type": "string",
                "enum": [
                  "yes",
                  "no",
                  "not stated"
                ],
                "description": "The significance of the association as stated by the author"
              },
              "Notes": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Free text field for notes added by the curator"
              },
              "Sentence": {
                "type": "string",
                "description": "The structured annotation sentence generated by the variant annotation tool based on curator information"
              },
              "Alleles": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The basis for comparison in the annotation. May contain variant(s), haplotype(s), genotype(s), or diplotype(s). Blank if gene phenotype in 'Variant/Haplotypes' field"
              },
              "Specialty Population": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Any special populations this annotation is relevant to (e.g. pediatric)"
              },
              "Metabolizer types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Gene phenotype group if applicable (e.g., 'poor metabolizers'). Used when association is based on gene phenotype groups"
              },
              "isPlural": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "Is",
                  "Are",
                  null
                ],
                "description": "Grammar field to maintain proper sentence structure"
              },
              "Is/Is Not associated": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "Associated with",
                  "Not associated with",
                  null
                ],
                "description": "Indicates whether or not an association was found"
              },
              "Direction of effect": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "increased",
                  "decreased",
                  null
                ],
                "description": "Descriptor of the 'PD/PK terms' field indicating direction of pharmacodynamic/pharmacokinetic effect"
              },
              "PD/PK terms": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Pharmacodynamic or pharmacokinetic phenotype measured in the association. Connects variant and drug in the sentence (e.g., 'concentration of', 'metabolism of', 'response to', 'dose of')"
              },
              "Multiple drugs And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "'or' means association applies to each drug individually; 'and' means association applies to drug combination"
              },
              "Population types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Type of population in which association was studied (e.g., 'in healthy individuals', 'in children', 'in women', 'in people with')"
              },
              "Population Phenotypes or diseases": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Further describes the studied population with particular disease or phenotype (e.g., 'diabetes', 'lung transplantation')"
              },
              "Multiple phenotypes or diseases And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "Specifies how multiple entries in 'Population Phenotypes or diseases' should be connected"
              },
              "Comparison Allele(s) or Genotype(s)": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Indicates allele(s)/haplotype(s)/genotype(s) that were directly compared against those in 'Variant/Haplotypes' field"
              },
              "Comparison Metabolizer types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Indicates gene phenotype groups that were directly compared against those in 'Metabolizer types' field"
              },
              "PMID_norm": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Normalized PubMed identifier"
              },
              "Variant Annotation ID_norm": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Normalized Variant Annotation ID"
              }
            },
            "required": [
              "Variant Annotation ID",
              "Variant/Haplotypes",
              "Gene",
              "Drug(s)",
              "PMID",
              "Phenotype Category",
              "Significance",
              "Sentence"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "var_drug_ann"
      ],
      "additionalProperties": false
    },
    "output": null,
    "timestamp": "2025-10-16T13:44:28.803547"
  },
  {
    "task": "var-drug",
    "name": "llm generated",
    "prompt": "# Variant/Drug Annotation Extraction Prompt\n\n## Task\nExtract variant/drug annotations from the provided scientific article and format them according to the specified schema. Focus on identifying genetic associations with drug dosing, efficacy, toxicity, and pharmacokinetic/pharmacodynamic parameters.\n\n## Output Format\nGenerate a JSON object with a \"var_drug_ann\" array containing annotation objects. Each annotation should capture a specific variant-drug association reported in the article.\n\n## Schema Field Definitions\n\n### Core Identification Fields:\n- **Variant Annotation ID**: Generate a unique integer ID for each annotation\n- **Variant/Haplotypes**: The dbSNP rsID (e.g., rs9923231) or haplotype involved in the association\n- **Gene**: HGNC gene symbol (e.g., VKORC1, CYP2C9, CYP4F2, UGT1A1)\n- **Drug(s)**: Generic drug name(s) involved in the association\n- **PMID**: PubMed ID from the article\n- **Phenotype Category**: Choose from: \"Dosage\", \"Efficacy\", \"Toxicity\", \"Metabolism/PK\", \"PD\", \"Other\"\n- **Significance**: Based on author's findings - \"yes\" (significant), \"no\" (not significant), or \"not stated\"\n\n### Detailed Annotation Fields:\n- **Notes**: Any relevant curator notes (e.g., \"alleles complemented to + strand\")\n- **Sentence**: A structured sentence describing the association (see template below)\n- **Alleles**: The specific alleles/genotypes being compared (e.g., \"CT + TT\", \"AC + CC\")\n- **Specialty Population**: Special populations if mentioned (e.g., \"pediatric\")\n\n### Sentence Component Fields:\n- **Metabolizer types**: Gene phenotype group if applicable (e.g., \"poor metabolizer\")\n- **isPlural**: \"Is\" or \"Are\" based on grammatical number\n- **Is/Is Not associated**: \"Associated with\" or \"Not associated with\"\n- **Direction of effect**: \"increased\" or \"decreased\" (null if not significant)\n- **PD/PK terms**: Pharmacological measure (e.g., \"dose of\", \"concentration of\", \"metabolism of\")\n- **Multiple drugs And/or**: \"and\" or \"or\" if multiple drugs listed\n- **Population types**: Study population descriptor (e.g., \"in people with\", \"in healthy individuals\")\n- **Population Phenotypes or diseases**: Specific conditions prefixed with \"Disease:\" (comma-separated)\n- **Multiple phenotypes or diseases And/or**: \"and\" or \"or\" for multiple conditions\n- **Comparison Allele(s) or Genotype(s)**: Reference genotype/allele for comparison\n- **Comparison Metabolizer types**: Reference metabolizer phenotype if applicable\n\n## Sentence Template Pattern\nThe sentence should follow this structure:\n`[Alleles/Genotypes] [isPlural] [Is/Is Not associated] [Direction of effect] [PD/PK terms] [Drug(s)] [Population types] [Population Phenotypes or diseases] as compared to [Comparison Allele(s) or Genotype(s)].`\n\nExample: \"Genotypes CT + TT are associated with decreased dose of warfarin in people with Atrial Fibrillation, heart valve replacement, Pulmonary Hypertension, Pulmonary Embolism or Venous Thrombosis as compared to genotype CC.\"\n\n## Extraction Guidelines\n\n1. **Identify Key Findings**: Look for statements about genetic polymorphisms affecting drug response, particularly:\n   - Dose requirements\n   - Treatment efficacy\n   - Adverse effects/toxicity\n   - Drug metabolism rates\n\n2. **Statistical Significance**: \n   - Mark \"yes\" if p-value < 0.05 or authors state significance\n   - Mark \"no\" if explicitly stated as non-significant\n   - Use \"not stated\" if unclear\n\n3. **Direction of Effect**:\n   - \"increased\" = higher dose needed, increased risk, enhanced effect\n   - \"decreased\" = lower dose needed, reduced risk, diminished effect\n   - Leave null if no association found\n\n4. **Population Details**:\n   - Extract all mentioned conditions/diseases\n   - Use \"Disease:\" prefix for each condition\n   - Separate multiple conditions with commas\n   - Use \"and\"/\"or\" based on study design\n\n5. **Genotype Notation**:\n   - For SNPs: Use standard notation (e.g., CC, CT, TT)\n   - For star alleles: Use CYP notation (e.g., *1/*3)\n   - Combine multiple genotypes with \"+\"\n\n6. **Special Considerations**:\n   - If complemented to plus strand, note in \"Notes\" field\n   - Include all indications for drug use mentioned\n   - Preserve author's terminology for metabolizer phenotypes\n\n## Example Input/Output\n\n### Input Article Excerpt:\n\"The patients with variant genotypes of VKORC1 \u22121639G>A required significantly lower warfarin stable weekly doses than those with wild-type genotype (p < 0.001). Patients with AA and GA genotypes required 49.7% and 27.7% significantly lower averages of warfarin doses compared with those with wild-type GG genotype.\"\n\n### Output Annotation:\n```json\n{\n  \"Variant Annotation ID\": 1448624157,\n  \"Variant/Haplotypes\": \"rs9923231\",\n  \"Gene\": \"VKORC1\",\n  \"Drug(s)\": \"warfarin\",\n  \"PMID\": 28550460,\n  \"Phenotype Category\": \"Dosage\",\n  \"Significance\": \"yes\",\n  \"Notes\": \"Please note: alleles have been complemented to the + strand.\",\n  \"Sentence\": \"Genotypes CT + TT are associated with decreased dose of warfarin in people with Atrial Fibrillation, heart valve replacement, Pulmonary Hypertension, Pulmonary Embolism or Venous Thrombosis as compared to genotype CC.\",\n  \"Alleles\": \"CT + TT\",\n  \"Metabolizer types\": null,\n  \"isPlural\": \"Are\",\n  \"Is/Is Not associated\": \"Associated with\",\n  \"Direction of effect\": \"decreased\",\n  \"PD/PK terms\": \"dose of\",\n  \"Population types\": \"in people with\",\n  \"Population Phenotypes or diseases\": \"Disease:Atrial Fibrillation, Disease:Heart valve replacement, Disease:Pulmonary Hypertension, Disease:Pulmonary Embolism, Disease:Venous Thrombosis\",\n  \"Multiple phenotypes or diseases And/or\": \"or\",\n  \"Comparison Allele(s) or Genotype(s)\": \"CC\",\n  \"Comparison Metabolizer types\": null\n}\n```\n\n## Processing Instructions\n\n1. Read the entire article first to understand the study design and population\n2. Identify all variant-drug associations reported\n3. Create one annotation entry per unique variant-drug-outcome combination\n4. If a variant affects multiple aspects (e.g., both efficacy and dosage), create separate annotations\n5. Include both significant and non-significant findings if explicitly reported\n6. Maintain consistency in terminology within the annotation set\n7. Generate normalized fields (PMID_norm, Variant Annotation ID_norm) as string versions\n\nExtract all variant/drug associations from the provided article and return them in the specified JSON format.",
    "text": "",
    "model": "gpt-4o-mini",
    "response_format": {
      "type": "object",
      "properties": {
        "var_drug_ann": {
          "type": "array",
          "description": "Array of variant/drug annotation records",
          "items": {
            "type": "object",
            "properties": {
              "Variant Annotation ID": {
                "type": "integer",
                "description": "Unique ID number for each variant/drug annotation"
              },
              "Variant/Haplotypes": {
                "type": "string",
                "description": "dbSNP rsID or haplotype(s) involved in the association. May also contain gene phenotype groups like 'poor metabolizers' or 'intermediate activity'"
              },
              "Gene": {
                "type": "string",
                "description": "HGNC symbol for the gene involved in the association. Variants typically within gene boundaries but may be upstream affecting gene expression"
              },
              "Drug(s)": {
                "type": "string",
                "description": "The drug(s) involved in the association, standardized by generic name. Multiple drugs may apply individually or in combination (see 'Multiple drugs And/or' field)"
              },
              "PMID": {
                "type": [
                  "integer",
                  "string"
                ],
                "description": "PubMed identifier for the article supporting the annotation"
              },
              "Phenotype Category": {
                "type": "string",
                "enum": [
                  "efficacy",
                  "toxicity",
                  "dosage",
                  "metabolism/PK",
                  "PD",
                  "other"
                ],
                "description": "Category of the phenotype association"
              },
              "Significance": {
                "type": "string",
                "enum": [
                  "yes",
                  "no",
                  "not stated"
                ],
                "description": "The significance of the association as stated by the author"
              },
              "Notes": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Free text field for notes added by the curator"
              },
              "Sentence": {
                "type": "string",
                "description": "The structured annotation sentence generated by the variant annotation tool based on curator information"
              },
              "Alleles": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The basis for comparison in the annotation. May contain variant(s), haplotype(s), genotype(s), or diplotype(s). Blank if gene phenotype in 'Variant/Haplotypes' field"
              },
              "Specialty Population": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Any special populations this annotation is relevant to (e.g. pediatric)"
              },
              "Metabolizer types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Gene phenotype group if applicable (e.g., 'poor metabolizers'). Used when association is based on gene phenotype groups"
              },
              "isPlural": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "Is",
                  "Are",
                  null
                ],
                "description": "Grammar field to maintain proper sentence structure"
              },
              "Is/Is Not associated": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "Associated with",
                  "Not associated with",
                  null
                ],
                "description": "Indicates whether or not an association was found"
              },
              "Direction of effect": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "increased",
                  "decreased",
                  null
                ],
                "description": "Descriptor of the 'PD/PK terms' field indicating direction of pharmacodynamic/pharmacokinetic effect"
              },
              "PD/PK terms": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Pharmacodynamic or pharmacokinetic phenotype measured in the association. Connects variant and drug in the sentence (e.g., 'concentration of', 'metabolism of', 'response to', 'dose of')"
              },
              "Multiple drugs And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "'or' means association applies to each drug individually; 'and' means association applies to drug combination"
              },
              "Population types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Type of population in which association was studied (e.g., 'in healthy individuals', 'in children', 'in women', 'in people with')"
              },
              "Population Phenotypes or diseases": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Further describes the studied population with particular disease or phenotype (e.g., 'diabetes', 'lung transplantation')"
              },
              "Multiple phenotypes or diseases And/or": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "and",
                  "or",
                  null
                ],
                "description": "Specifies how multiple entries in 'Population Phenotypes or diseases' should be connected"
              },
              "Comparison Allele(s) or Genotype(s)": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Indicates allele(s)/haplotype(s)/genotype(s) that were directly compared against those in 'Variant/Haplotypes' field"
              },
              "Comparison Metabolizer types": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Indicates gene phenotype groups that were directly compared against those in 'Metabolizer types' field"
              },
              "PMID_norm": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Normalized PubMed identifier"
              },
              "Variant Annotation ID_norm": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Normalized Variant Annotation ID"
              }
            },
            "required": [
              "Variant Annotation ID",
              "Variant/Haplotypes",
              "Gene",
              "Drug(s)",
              "PMID",
              "Phenotype Category",
              "Significance",
              "Sentence"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "var_drug_ann"
      ],
      "additionalProperties": false
    },
    "output": null,
    "timestamp": "2025-10-16T13:44:28.804978"
  }
]